{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ddb59fa1_e555b069",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-06T17:37:17Z",
      "side": 1,
      "message": "Just not sure if we\u0027ll have any unintended consequences due to this, otherwise it looks ok.\n\nI assume it runs start installing apps in the background as SuW is running.",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ad8d5c4_2876ce09",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-06-06T17:44:28Z",
      "side": 1,
      "message": "The apps have been getting enabled every time I\u0027ve tested. And yes, it must keep running because with some debug lines added, the PID/TID for Bellis was the same each time when it was launching SUW twice.",
      "parentUuid": "ddb59fa1_e555b069",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6dd7490_690bf276",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-06-07T14:27:02Z",
      "side": 1,
      "message": "Just a little concerned that this could lead to a race condition where suw would depend on steps being completed in the PostProvisioningHelper. But there may not be a way around it",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53e3bf0d_d12de573",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-07T14:34:01Z",
      "side": 1,
      "message": "Actually yeah, SuW does depend on most of the apps there\n\n1. microG -\u003e PostProvisioningHelper enables it, then SuW disables it if users chooses so\n2. SeedVault -\u003e need to launch that for restore\n3. F-Droid -\u003e mostly a UX thing, refreshing the repos.",
      "parentUuid": "a6dd7490_690bf276",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4bd1556_652dbf4b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-06-07T14:39:18Z",
      "side": 1,
      "message": "It\u0027s taken me a while to realize this, but I suppose the blank screen is just Bellis hanging in onCreate, since we do everything in there on the main thread.\n\nHow should we handle this then?",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "973fc7fa_42828db4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-06-07T14:56:31Z",
      "side": 1,
      "message": "I\u0027m not sure :/ Torsten or Aayush may have good suggestions on how to handle these 2 calls in the background.\nThese provisioning steps used to be in their own class (which may or may not have avoided this issue) but were refactored into this UI class.\nI also think it makes sense to `finish()` at the end of `ACTION_PROVISIONING_SUCCESSFUL` since onCreate in MainActivity is attempting to open the UI which is not needed in this case.",
      "parentUuid": "d4bd1556_652dbf4b",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07b0f98a_3d2e88ce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-06-08T00:18:44Z",
      "side": 1,
      "message": "After some unrelated testing, now I\u0027m not sure that this is even a guaranteed fix after all. I\u0027ve gotten \"System UI is not responding\" multiple times now, but *after* the Setup Wizard instead. So this change may just be postponing the problem / buying some time.",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e63868f3_a782c18f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-08T00:20:20Z",
      "side": 1,
      "message": "I\u0027ve seen that once with my \"Disable SetupWizard completely\" patch, but only when the system was in a bad configuration.",
      "parentUuid": "07b0f98a_3d2e88ce",
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3a157b1_1e772333",
        "filename": "app/src/main/java/org/calyxos/bellis/MainActivity.kt",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-06-06T18:09:04Z",
      "side": 1,
      "message": "So the setup wizard is already installed by default in work profiles? If so I\u0027d consider removing it from the required packages list",
      "range": {
        "startLine": 28,
        "startChar": 16,
        "endLine": 28,
        "endChar": 27
      },
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7dde2e27_91982565",
        "filename": "app/src/main/java/org/calyxos/bellis/MainActivity.kt",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-06-06T22:28:05Z",
      "side": 1,
      "message": "https://gitlab.com/CalyxOS/platform_packages_apps_Bellis/-/blob/android13/app/src/main/java/org/calyxos/bellis/PostProvisioningHelper.kt#L21 - it\u0027s not in this list.\n\nIn fact, I don\u0027t see the SuW package name mentioned anywhere else at all.",
      "parentUuid": "a3a157b1_1e772333",
      "range": {
        "startLine": 28,
        "startChar": 16,
        "endLine": 28,
        "endChar": 27
      },
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef4b5e66_3749634b",
        "filename": "app/src/main/java/org/calyxos/bellis/MainActivity.kt",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2023-06-07T14:27:02Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7dde2e27_91982565",
      "range": {
        "startLine": 28,
        "startChar": 16,
        "endLine": 28,
        "endChar": 27
      },
      "revId": "c3e961ac824d37f74ae3c6d6d44daca4fb7a7ce2",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}